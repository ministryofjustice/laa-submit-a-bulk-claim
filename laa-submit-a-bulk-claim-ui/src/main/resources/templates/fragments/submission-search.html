<th:block th:fragment="form(submissionsSearchForm)">
  <div class="search-panel govuk-!-margin-bottom-6">
    <div class="govuk-grid-row">

      <div class="govuk-grid-column-full">
        <h2 class="govuk-heading-m" th:text="#{search.filter.subheading}"></h2>
      </div>

      <div class="govuk-grid-column-one-third">
        <fieldset class="govuk-fieldset">

          <div class="govuk-body govuk-input--width-10">
            <div class="autocomplete-wrapper ">
              <label class="govuk-label govuk-label--s" for="submission-period"
                     th:text="#{search.submissionPeriod}"></label>
              <select class="govuk-select" id="submission-period"
                      th:field="*{submissionPeriod}"
                      data-module="make-autocomplete">

                <option value="" selected></option>
                <option
                    th:each="period, idx : ${@submissionPeriodUtil.getAllPossibleSubmissionPeriods()}"
                    th:value="${period.getKey()}"
                    th:id="|submission-period-${idx.index}|"
                    th:text="${period.getValue()}">Submission Period Option
                </option>
              </select>
            </div>
          </div>
        </fieldset>
      </div>
      <div class="govuk-grid-column-one-third">
        <fieldset class="govuk-fieldset">

          <div class="govuk-body govuk-input--width-10">
            <label class="govuk-label govuk-label--s" for="area-of-law"
                   th:text="#{search.areaOfLaw}"></label>
            <select class="govuk-select" id="area-of-law"
                    th:field="*{areaOfLaw}">

              <option value="" th:text="#{search.error.areaOfLaw.all}" selected>All</option>
              <option
                  th:with="value=${T(uk.gov.justice.laa.dstew.payments.claimsdata.model.AreaOfLaw).LEGAL_HELP}"
                  th:value="${value.name()}"
                  th:text="${#strings.toUpperCase(#strings.substring(value, 0, 1)) + #strings.toLowerCase(#strings.substring(value, 1))}"></option>
              <option
                  th:with="value=${T(uk.gov.justice.laa.dstew.payments.claimsdata.model.AreaOfLaw).CRIME_LOWER}"
                  th:value="${value.name()}"
                  th:text="${#strings.toUpperCase(#strings.substring(value, 0, 1)) + #strings.toLowerCase(#strings.substring(value, 1))}"></option>
              <option
                  th:with="value=${T(uk.gov.justice.laa.dstew.payments.claimsdata.model.AreaOfLaw).MEDIATION}"
                  th:value="${value.name()}"
                  th:text="${#strings.toUpperCase(#strings.substring(value, 0, 1)) + #strings.toLowerCase(#strings.substring(value, 1))}"></option>

            </select>
          </div>
        </fieldset>
      </div>
      <div class="govuk-grid-column-full">
        <fieldset class="govuk-fieldset">

          <div class="govuk-body">

            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s"
                        th:text="#{search.outcome}">
                </legend>
                <div class="govuk-radios govuk-radios--inline govuk-radios--small"
                     data-module="govuk-radios">
                  <div class="govuk-radios__item">
                    <input class="govuk-radios__input" id="completed-radio-option"
                           th:field="*{submissionStatuses}"
                           type="radio"
                           th:value="${T(uk.gov.justice.laa.bulkclaim.dto.SubmissionOutcomeFilter).COMPLETED}">
                    <label class="govuk-label govuk-radios__label" for="completed-radio-option"
                           th:text="#{search.outcome.completed}"/>
                  </div>
                  <div class="govuk-radios__item">
                    <input class="govuk-radios__input" id="all-radio-option" type="radio"
                           th:field="*{submissionStatuses}"
                           th:value="${T(uk.gov.justice.laa.bulkclaim.dto.SubmissionOutcomeFilter).ALL}">
                    <label class="govuk-label govuk-radios__label" for="all-radio-option"
                           th:text="#{search.outcome.all}"/>
                  </div>
                </div>
              </fieldset>
            </div>
          </div>
        </fieldset>
      </div>

      <div class="govuk-grid-column-full">
        <details class="govuk-details">
          <summary class="govuk-details__summary">
              <span class="govuk-details__summary-text"
                    th:text="#{search.result.header.chooseOffice}">
              </span>
          </summary>
          <div class="govuk-details__text">
            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s"
                        th:text="#{search.offices}">
                </legend>
                <div class="govuk-checkboxes govuk-radios--inline govuk-checkboxes--small"
                     data-module="govuk-checkboxes">
                  <th:block th:each="office,idx : ${userOffices}">
                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" th:id="|${idx.index}-office-checkbox|"
                             type="checkbox"
                             name="offices"
                             th:checked="${#arrays.contains(submissionsSearchForm.offices, office)}"
                             th:value="${office}">
                      <label class="govuk-label govuk-checkboxes__label"
                             th:for="|${idx.index}-office-checkbox|"
                             th:text="${office}">
                      </label>
                    </div>
                  </th:block>

                </div>
              </fieldset>
            </div>
          </div>
        </details>
      </div>

      <div class="govuk-grid-column-full">
        <div class="govuk-button-group">
          <button
              type="submit"
              class="govuk-button"
              data-module="govuk-button"
              id="searchButton"
              data-govuk-button-init="">
            Search
          </button>
          <a class="govuk-link" th:href="@{/submissions/search}">Clear all</a>
        </div>
      </div>
    </div>
  </div>
</th:block>
