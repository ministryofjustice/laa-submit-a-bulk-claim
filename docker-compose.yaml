services:
  claim-service:
    image: wiremock/wiremock:latest
    container_name: claim-service
    entrypoint:
      [
        "/docker-entrypoint.sh",
        "--global-response-templating",
        "--disable-gzip",
        "--verbose",
      ]
    volumes:
      - ./wiremock/mappings/claim-service:/home/wiremock/mappings
    restart: always
    ports:
      - "8091:8080"
  # Follow guidance here to run this service via docker: https://github.com/ministryofjustice/laa-oidc-mock-server?tab=readme-ov-file#running-the-server-via-docker
  laa-mock-oidc-service:
    image: laa-oidc-mock-server:latest
    ports:
      - "9000:9000"

  redis:
    image: redis:8-alpine
    container_name: redis
    restart: always
    ports:
      - "6379:6379"
    command: redis-server --appendonly yes
    volumes:
      - redis_data:/data


volumes:
  redis_data: