<!DOCTYPE HTML>
<html lang="en" class="govuk-template" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{ layout/main-layout :: layout(~{::title},~{::main})}">
<title>CWA Bulk Upload - Submission Results</title>
<main class="govuk-main-wrapper" id="main-content">
    <div class="govuk-width-container">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-half">
                <a href="/" class="govuk-back-link">Back</a>
            </div>
            <div class="govuk-grid-column-one-half govuk-!-text-align-right">
                <button type="submit" class="govuk-button govuk-button govuk-button--secondary" data-module="govuk-button" id="print-button" >
                    Print this page
                </button>
            </div>
        </div>
        <div class="govuk-grid-row">
            <div>
                <h1 class="govuk-heading-xl">CWA Bulk Upload</h1>
                <h3 class="govuk-heading-m">Bulk upload summary</h3>
                <div class="upload-table">
                <table class="govuk-table">
                    <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header">SUMMARY_ID</th>
                        <th scope="col" class="govuk-table__header">LSC_ACCOUNT_NUM</th>
                        <th scope="col" class="govuk-table__header">SCHEDULE_NUM</th>
                        <th scope="col" class="govuk-table__header">TOTAL_OUTCOMES</th>
                        <th scope="col" class="govuk-table__header">SUCCESSFUL_OUTCOMES</th>
                        <th scope="col" class="govuk-table__header">PROBLEM_OUTCOMES</th>
                        <th scope="col" class="govuk-table__header">DUPLICATE_OUTCOMES</th>
                        <th scope="col" class="govuk-table__header">INVALID_OUTCOMES</th>
                    </tr>
                    </thead>
                    <tbody class="govuk-table__body">
                    <tr th:each="summaryLine : ${summary}" class="govuk-table__row" >
                        <td th:text="${summaryLine.summaryId}" class="govuk-table__cell"></td>
                        <td th:text="${summaryLine.lscAccountNum}" class="govuk-table__cell"></td>
                        <td th:text="${summaryLine.scheduleNum}" class="govuk-table__cell"></td>
                        <td th:text="${summaryLine.totalOutcomes}" class="govuk-table__cell"></td>
                        <td th:text="${summaryLine.successfulOutcomes}" class="govuk-table__cell"></td>
                        <td th:text="${summaryLine.problemOutcomes}" class="govuk-table__cell"></td>
                        <td th:text="${summaryLine.duplicateOutcomes}" class="govuk-table__cell"></td>
                        <td th:text="${summaryLine.invalidOutcomes}" class="govuk-table__cell"></td>
                    </tr>
                    </tbody>
                </table>
                </div>
                <div th:if="${errors != null && errors.size() > 0}">
                <h3 class="govuk-heading-m">Bulk upload error details</h3>
                <div class="upload-table" >
                <table class="govuk-table">
                    <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header">SUMMARY_ID</th>
                        <th scope="col" class="govuk-table__header">ITEM_CODE</th>
                        <th scope="col" class="govuk-table__header">UFN</th>
                        <th scope="col" class="govuk-table__header">CLIENT_SURNAME</th>
                        <th scope="col" class="govuk-table__header">ERROR_TYPE</th>
                        <th scope="col" class="govuk-table__header">DESCRIPTION</th>
                    </tr>
                    </thead>
                    <tbody class="govuk-table__body">
                    <tr th:each="error : ${errors}" class="govuk-table__row" >
                        <td th:text="${error.summaryId}" class="govuk-table__cell"></td>
                        <td th:text="${error.itemCode}" class="govuk-table__cell"></td>
                        <td th:text="${error.ufn}" class="govuk-table__cell"></td>
                        <td th:text="${error.clientSurname}" class="govuk-table__cell"></td>
                        <td th:text="${error.errorType}" class="govuk-table__cell"></td>
                        <td th:text="${error.description}" class="govuk-table__cell"></td>
                    </tr>
                    </tbody>
                </table>
                </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/javascripts/printButton.js"></script>
</main>
</html>
